const whatsappModel = require('../shared/whatsappmodels')
const whatsappService = require('../services/whatsappService')

async function Process(textUser, number) {
  textUser = textUser.toLowerCase()
  const minTimeToRespose = 1000

  if (
    textUser.includes('hola') ||
    textUser.includes('buenas') ||
    textUser.includes('ola')
  ) {
    const msgGreeting = whatsappModel.MessageText(
      'Saludos! *Soy el asistente de Bus iT*, tu asistente virtual, ¬°me complace estar en contacto contigo! ü§ñ',
      number
    )
    const msgPrivacy = whatsappModel.MessageTextWithUrl(
      'En nuestra *Pol√≠tica de Privacidad*, podr√°s acceder a detalles acerca de c√≥mo *Bus iT* maneja y utiliza tus datos personales. Queremos que est√©s informado sobre c√≥mo se gestionan tus informaciones y c√≥mo protegemos tu privacidad: https://www.busit.net/politica-y-privacidad',
      number
    )
    const msgMainMenu = whatsappModel.MessageMainMenu(number)

    await whatsappService.SendMessageWhatsApp(msgGreeting)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgPrivacy)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgMainMenu)
  } else if (textUser.includes('¬øqu√© es un chatbot?')) {
    const msgInfo = whatsappModel.MessageText(
      '¬°Descubre la maravilla de los chatbots! Con tecnolog√≠a de inteligencia artificial, nuestros chatbots son asistentes virtuales capaces de interactuar y brindar informaci√≥n en tiempo real, llevando la atenci√≥n al cliente a un nuevo nivel.',
      number
    )
    const msgMNoreInfo = whatsappModel.MessageText(
      '¬°Explora c√≥mo nuestros chatbots pueden transformar tu negocio! Descubre m√°s sobre sus capacidades y c√≥mo pueden mejorar la interacci√≥n con tus clientes. ¬°Cont√°ctanos para conocer m√°s!',
      number
    )

    const msgUrlContact = whatsappModel.MessageText(
      'https://www.busit.net/',
      number
    )

    await whatsappService.SendMessageWhatsApp(msgInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgMNoreInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgUrlContact)
  } else if (textUser.includes('casos de uso')) {
    const msgInfo = whatsappModel.MessageText(
      'Sum√©rgete en el mundo de posibilidades. Desde brindar soporte instant√°neo las 24 horas hasta captar clientes potenciales, los chatbots se adaptan a tu negocio como un aliado vers√°til y eficiente.',
      number
    )
    const msgMoreInfo = whatsappModel.MessageText(
      'Estos son solo algunos ejemplos de lo que nuestros chatbots pueden lograr. Si deseas explorar c√≥mo se adaptan a tu industria y necesidades, ¬°estamos aqu√≠ para ayudarte! Cont√°ctanos y descubre las posibilidades.',
      number
    )
    const msgUrlContact = whatsappModel.MessageTextWithUrl(
      'https://www.busit.net/contacto',
      number
    )

    await whatsappService.SendMessageWhatsApp(msgInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgMoreInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgUrlContact)

  } else if (textUser.includes('beneficios')) {
    const msgInfo = whatsappModel.MessageText(
      '¬øImagina tener un equipo de atenci√≥n al cliente que nunca duerme? Con nuestros chatbots, experimentar√°s beneficios impresionantes: respuestas r√°pidas, aumentos en la satisfacci√≥n del cliente y reducci√≥n de carga de trabajo.',
      number
    )
    const msgMNoreInfo = whatsappModel.MessageText(
      '¬øListo para transformar tu atenci√≥n al cliente? Nuestros chatbots pueden ser la soluci√≥n. ¬°Aprovecha sus beneficios y brinda una experiencia excepcional a tus clientes! Cont√°ctanos para saber c√≥mo.',
      number
    )
    const msgUrlContact = whatsappModel.MessageTextWithUrl(
      'https://www.busit.net/contacto',
      number
    )

    await whatsappService.SendMessageWhatsApp(msgInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgMNoreInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgUrlContact)
  } else if (textUser.includes('herramientas')) {
    const msgInfo = whatsappModel.MessageText(
      'Te proporcionamos las herramientas l√≠deres en el mercado para construir tu chatbot personalizado. Sin necesidad de ser un experto en programaci√≥n, podr√°s crear un asistente virtual que represente tu marca a la perfecci√≥n.',
      number
    )
    const msgMNoreInfo = whatsappModel.MessageText(
      '¬øListo para crear tu propio chatbot? Nuestras herramientas te esperan. Comienza a construir un asistente virtual √∫nico que refleje tu marca. Cont√°ctanos y empieza a crear tu chatbot hoy mismo.'
      , number)
    const msgUrlContact = whatsappModel.MessageTextWithUrl(
      'https://www.busit.net/contacto',
      number
    )

    await whatsappService.SendMessageWhatsApp(msgInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgMNoreInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgUrlContact)
  } else if (textUser.includes('implementaci√≥n')) {
    const msgInfo = whatsappModel.MessageText(
      'Nuestro equipo te guiar√° en cada paso. Desde la planificaci√≥n hasta el lanzamiento, te asistiremos para que la implementaci√≥n de tu chatbot sea exitosa, mejorando la interacci√≥n con tus clientes desde el primer d√≠a.',
      number)
    const msgMNoreInfo = whatsappModel.MessageText(
      '¬°Hacer realidad tu chatbot es m√°s f√°cil de lo que piensas! Perm√≠tenos guiarte a trav√©s del proceso de implementaci√≥n exitosa. ¬°Contacta con nosotros y comienza a mejorar tu atenci√≥n al cliente!', 
      number)
    const msgUrlContact = whatsappModel.MessageTextWithUrl(
      'https://www.busit.net/contacto',
      number
    )

    await whatsappService.SendMessageWhatsApp(msgInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgMNoreInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgUrlContact)
  } else if (textUser.includes('aprendizaje')) {
    const msgInfo = whatsappModel.MessageText(
      'Los chatbots no solo responden, ¬°aprenden! Gracias al aprendizaje autom√°tico, se adaptan a las preferencias y necesidades cambiantes de tus usuarios, brindando respuestas cada vez m√°s precisas.', 
      number)
    const msgMNoreInfo = whatsappModel.MessageText(
      'Tus clientes merecen respuestas precisas. Nuestros chatbots aprenden y mejoran constantemente. ¬øListo para ofrecer una atenci√≥n personalizada? Cont√°ctanos para aprender m√°s.', 
      number)
    const msgUrlContact = whatsappModel.MessageTextWithUrl(
      'https://www.busit.net/contacto',
      number
    )

    await whatsappService.SendMessageWhatsApp(msgInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgMNoreInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgUrlContact)
  } else if (textUser.includes('seguridad')) {
    const msgInfo = whatsappModel.MessageText(
      'La privacidad es primordial. Nuestros chatbots est√°n dise√±ados con protocolos de seguridad avanzados para garantizar que los datos de tus clientes est√©n protegidos en todo momento.', 
      number)
    const msgMNoreInfo = whatsappModel.MessageText(
      'Proteger los datos de tus clientes es fundamental. Descubre c√≥mo nuestros chatbots est√°n dise√±ados para garantizar la privacidad. ¬øListo para la tranquilidad? Cont√°ctanos para saber m√°s.', 
      number)
    const msgUrlContact = whatsappModel.MessageTextWithUrl(
      'https://www.busit.net/contacto',
      number
    )

    await whatsappService.SendMessageWhatsApp(msgInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgMNoreInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgUrlContact)
  } else if (textUser.includes('ejemplos reales')) {
    const msgInfo = whatsappModel.MessageText(
      'Descubre c√≥mo empresas l√≠deres han transformado sus operaciones con nuestros chatbots. Desde agilizar el proceso de compra hasta ofrecer diagn√≥sticos m√©dicos preliminares, los ejemplos reales hablan por s√≠ mismos.', 
      number)
    const msgMNoreInfo = whatsappModel.MessageText(
      'Los casos de √©xito hablan por s√≠ mismos. ¬øListo para ser el siguiente? Cont√°ctanos para explorar c√≥mo nuestros chatbots pueden revolucionar tu negocio.', 
      number)
    const msgUrlContact = whatsappModel.MessageTextWithUrl(
      'https://www.busit.net/contacto',
      number
    )

    await whatsappService.SendMessageWhatsApp(msgInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgMNoreInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgUrlContact)
  } else if (textUser.includes('demo interactiva')) {
    const msgInfo = whatsappModel.MessageText(
      ' ¬øTe gustar√≠a verlo en acci√≥n? Experimenta una demostraci√≥n interactiva y sorpr√©ndete con c√≥mo un chatbot puede responder a tus preguntas y necesidades en tiempo real.', 
      number)
    const msgMNoreInfo = whatsappModel.MessageText(
      '¬øQuieres experimentar un chatbot en acci√≥n? ¬°Esperamos demostrarte su potencial! Cont√°ctanos para programar una demo interactiva y descubrir todo lo que pueden hacer.', 
      number)
    const msgUrlContact = whatsappModel.MessageTextWithUrl(
      'https://www.busit.net/contacto',
      number
    )

    await whatsappService.SendMessageWhatsApp(msgInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgMNoreInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgUrlContact)
  } else if (textUser.includes('precios')) {
    const msgInfo = whatsappModel.MessageText(
      'Ofrecemos planes flexibles para todos los presupuestos. Desde soluciones b√°sicas hasta personalizadas, encontrar√°s el plan perfecto para llevar la eficiencia de tu negocio al siguiente nivel.', 
      number)
    const msgMNoreInfo = whatsappModel.MessageText(
      'Encuentra el plan perfecto para tu negocio. Cont√°ctanos para obtener m√°s detalles sobre nuestros planes y precios, y descubre c√≥mo un chatbot puede ser una inversi√≥n inteligente.', 
      number)
    const msgUrlContact = whatsappModel.MessageTextWithUrl(
      'https://www.busit.net/contacto',
      number
    )

    await whatsappService.SendMessageWhatsApp(msgInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgMNoreInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgUrlContact)
  } else if (textUser.includes('contacto')) {
    const msgInfo = whatsappModel.MessageText(
      '¬øDudas? ¬°Estamos aqu√≠ para ayudarte! Cont√°ctanos para un asesoramiento personalizado y descubre c√≥mo nuestra tecnolog√≠a puede elevar tu negocio hacia el √©xito.', 
      number)
    const msgMNoreInfo = whatsappModel.MessageText(
      '¬°Estamos aqu√≠ para ti! ¬øPreguntas, dudas o deseas saber m√°s? Cont√°ctanos y te proporcionaremos la informaci√≥n que necesitas para llevar tu negocio al siguiente nivel con nuestros chatbots.', 
      number)
    const msgUrlContact = whatsappModel.MessageTextWithUrl(
      'https://www.busit.net/contacto',
      number
    )

    await whatsappService.SendMessageWhatsApp(msgInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgMNoreInfo)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgUrlContact)
  } else {
    const msg = whatsappModel.MessageText(
      '¬°Hola! Parece que tu pregunta no coincide exactamente con las opciones que ofrecemos en el men√∫. Para brindarte la informaci√≥n m√°s relevante, te invito a revisar las opciones del men√∫ que tenemos. Si ninguna de las opciones del men√∫ aborda tu pregunta, no dudes en escribirnos de nuevo con m√°s detalles y estaremos encantados de ayudarte. üòä' ,
      number
    )
    const msgMainMenu = whatsappModel.MessageMainMenu(number)

    await whatsappService.SendMessageWhatsApp(msg)
    await wait(minTimeToRespose)
    await whatsappService.SendMessageWhatsApp(msgMainMenu)
  }
}

function wait(ms) {
  return new Promise((resolve) => setTimeout(resolve, ms))
}

module.exports = {
  Process,
}
